!function(e){var t={};function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);class o{constructor(e){const t=document.createElement("audio");t.src=e,t.setAttribute("preload","auto"),t.setAttribute("controls","none"),t.style.display="none",this.sound=t,document.body.appendChild(this.sound)}play(){this.sound.play()}stop(){this.sound.pause()}loopOn(){this.sound.loop=!0}loopOff(){this.sound.loop=!1}}const n=e=>{const t=document.querySelectorAll(e);if(!t)throw new Error(`Element with selector '${e}' is not found`);return 1===t.length?t[0]:t},r=(e,t)=>{if(!e||!t)throw new Error("Element and property name must be passed");return parseInt(window.getComputedStyle(e).getPropertyValue(t))},i=e=>{const t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41},a=["#f2002c","#fcf242","#1cc8f5","#66ff00","#01f9c6","#0ff0fc","#ffcf00","#dfff11","#bf00ff"];const l=n(".hole"),c=n(".obstacle"),d=n("#character"),h=n("#startGameBtn"),u=n("#overlay"),p=n("#tScore"),f=n("#cScore"),m=n("#lastScore"),g=n("#leaderboard"),v=n("#toggleMusic"),L=n("#resetScores"),y=n("#toggleSettings");let b=500;let S=0,w=0,T=[],E=!0;const x=new o("./dist/assets/audio/bgMusic.ogg"),O=new class{constructor(e,t){this.obstacles=n(e),this.width=r(this.obstacles[0],"width"),this.score=t}createHoles(e){this.obstacles.forEach(t=>{this.randomHoleFn(t),t.addEventListener("animationiteration",()=>{this.randomHoleFn(t),this.updateScore(e)})})}randomHoleFn(e){const t=-(60*Math.random()+35),s=e.querySelector(".hole"),o=100+t+"%",n=125+t+"%",r=e.querySelector(".pipe"),i=a[Math.floor(Math.random()*a.length)],l=`linear-gradient(\n      ${i} ${o},\n      transparent ${o},\n      transparent ${n},\n      ${i} ${n}\n    )`;s.style.top=t+"%",r.style.backgroundImage=l}updateScore(e){this.score=this.score+10,e.innerText=this.score.toString()}}(".obstacles",S),k=new class{constructor(e,t){this.player=n(e),this.height=r(this.player,"height"),this.width=r(this.player,"width"),this.left=r(this.player,"left"),this.obstacleWidth=t}getDimensions(){return{height:this.height,width:this.width,left:this.left}}isHit(e,t){const s=this.getTop(),o=this.left+this.width,n=o-this.obstacleWidth,r=.25*(e-80)-this.height,i=s>e-this.height,a=t.pipe1Left<o&&t.pipe1Left>n,l=t.pipe2Left<o&&t.pipe2Left>n,c=s<t.hole1Top||s>t.hole1Top+r,d=s<t.hole2Top||s>t.hole2Top+r;return i||a&&c||l&&d}getTop(){return r(this.player,"top")}jump(e,t,s){clearInterval(e);let o=0;const n=.005274*s;e=setInterval(()=>{const t=this.getTop();t>80&&o<15&&(this.player.style.top=t-n+"px"),o>20&&(clearInterval(e),!1,o=0),o++},10)}}("#character",O.width),M=e=>{e.preventDefault(),e.stopImmediatePropagation();const t=n("#settingsModal"),s=n("#authorName");t.classList.contains("lsil")?(y.classList.remove("rotateR"),y.classList.add("rotateL"),t.classList.remove("lsil"),t.classList.add("bod"),setTimeout(()=>{t.classList.add("hidden"),t.classList.remove("bod"),s.classList.remove("animatedText")},1500)):(y.classList.remove("rotateL"),y.classList.add("rotateR"),s.classList.add("animatedText"),t.classList.remove("hidden"),t.classList.add("lsil"))},j=()=>{const e=localStorage.getItem("tsSRMP")||"false";E="true"===e,I()},I=()=>{E?v.classList.remove("btn--checked"):v.classList.add("btn--checked")},H=()=>{E=!E,I();const e=E.toString();localStorage.setItem("tsSRMP",e)},$=()=>{localStorage.removeItem("tsSRLB"),setTimeout(()=>{R()},100)},P=e=>e.sort((e,t)=>{const s=Object.values(e)[0];return Object.values(t)[0]-s}),R=()=>{const e=T&&T.length?T:JSON.parse(localStorage.getItem("tsSRLB")||"[]");if(e.length){T=P(e),p.innerText=""+Object.values(T[0])[0],w=Object.values(T[T.length-1])[0];const t=T.reduce((e,t)=>{const s=Number(Object.keys(t)[0]),o=t[s];let n=(e=>{if(!isNaN(e)){return new Date(e).toLocaleDateString()}return"A few days ago!"})(s);return n=n.padStart(50-((""+o).length+n.length),"."),e+=`<li class="lbScore"><span>${o}</span>${n}</li>`},"");g.innerHTML=t}else g.innerHTML="",p.innerText="",w=0},_=()=>{(()=>{let e=50;c.forEach(t=>{e+=25,t.style.transform=`translateX(${e}vw)`})})(),E&&(x.loopOn(),x.play()),d.style.top="80px",u.classList.add("hidden"),A(),document.addEventListener("click",B),document.addEventListener("keyup",N),c.forEach(e=>{e.classList.add("moving")})},N=e=>{" "===e.key&&B()},A=()=>{const e=.00633*b,t=setInterval((function(){const s=k.getTop();d.style.top=s+e+"px",(e=>{k.isHit(b,{pipe1Left:i(c[0]),pipe2Left:i(c[1]),hole1Top:b+80+r(l[0],"top"),hole2Top:b+80+r(l[1],"top")})&&(clearInterval(e),D())})(t)}),10)},D=()=>{if(clearInterval(void 0),document.removeEventListener("click",B),document.removeEventListener("keyup",N),E){x.stop();new o("./dist/assets/audio/hit.mp3").play()}(()=>{if((T.length<5||S>w&&0!==w)&&0!==S){const e={[""+Date.now()]:S};T.push(e);const t=P(T);T=t.slice(0,10),localStorage.setItem("tsSRLB",JSON.stringify(T)),R()}})(),(()=>{const e=n("#c_lastscore"),t=n("#gameOverText"),s=n("#greet");t.classList.remove("hidden"),e.classList.remove("hidden"),s.classList.add("hidden")})(),f.innerText="0",m.innerText=""+S,u.classList.remove("hidden"),m.classList.add("highlight"),setTimeout(()=>{m.classList.remove("highlight")},1500),S=0,c.forEach(e=>{const t=i(e)+3;e.classList.remove("moving"),e.style.transform=`translateX(${t}px)`}),h.innerText="Play Again"},B=()=>{k.jump(void 0,!1,b)};j(),R(),b=document.documentElement.clientHeight,O.createHoles(f),h.addEventListener("click",_),v.addEventListener("click",H),L.addEventListener("click",$),y.addEventListener("click",M),y.addEventListener("click",M),window.onresize=()=>{b=document.documentElement.clientHeight}}]);